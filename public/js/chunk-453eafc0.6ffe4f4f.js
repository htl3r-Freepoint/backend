(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-453eafc0"],{"14f5":function(t,o,s){"use strict";var e=s("582a"),a=s.n(e);a.a},"218b":function(t,o,s){"use strict";s.r(o);var e=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"container"},[s("div",{staticClass:"d-flex justify-content-between pb-5 row"},[s("h2",{staticClass:"text-uppercase font-weight-bold col-sm  mt-3"},[t._v(" "+t._s(t.$store.state.company.companyName?t.$store.state.company.companyName:"ERROR: no Company selected")+" ")]),s("div",{staticClass:"d-flex justify-content-end col-sm mt-3"},[t.editRights>0?s("router-link",{staticClass:"btn btn-primary mr-2",attrs:{to:"/cashier"}},[s("font-awesome-icon",{attrs:{icon:"qrcode"}})],1):t._e(),2===t.editRights||3===t.editRights?s("div",[s("router-link",{staticClass:"btn btn-primary mr-2",attrs:{to:"/company/coupons/edit"}},[s("font-awesome-icon",{attrs:{icon:"pen"}})],1),s("router-link",{staticClass:"btn btn-primary",attrs:{to:"/company/settings/profile"}},[s("font-awesome-icon",{attrs:{icon:"cog"}})],1)],1):t._e()],1)]),s("div",{staticClass:"row justify-content-center py-2",attrs:{id:"coupon-container"}},t._l(t.$store.state.coupons,(function(o,e){return s("coupon",{key:e,staticClass:"col-sm-6 col-md-4 col-xl-3",attrs:{coupon:o}},[s("font-awesome-icon",{staticStyle:{position:"absolute",left:"9.5px",top:"10.5px"},attrs:{slot:"actionIcon",icon:"shopping-cart"},slot:"actionIcon"}),s("div",{staticClass:"container",attrs:{slot:"modal"},slot:"modal"},[s("h2",[t._v(t._s(o.title))]),s("p",{staticClass:"text-left"},[t._v(t._s(o.text))]),s("div",{staticClass:"d-flex flex-row justify-content-between w-50 m-auto"},[s("h3",{staticClass:"font-weight-bold"},[t._v(" "+t._s(o.isPercent?!(o.percentage>0)||o.percentage>=100?"Gratis":"-"+o.percentage+"%":!(o.price>0)||o.price>=100?"Gratis":"-"+o.price+"€")+" ")]),s("h3",{staticClass:"primary-text"},[t._v(" "+t._s(o.value)+" "),s("font-awesome-icon",{attrs:{icon:"receipt"}})],1)]),s("div",{staticClass:"container"},[s("div",{staticClass:"row control-buttons justify-content-between"},[s("button",{staticClass:"col-5 btn btn-danger font-weight-bold",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Zurück")]),s("button",{staticClass:"col-5 btn btn-primary font-weight-bold",attrs:{type:"button","data-dismiss":"modal",disabled:t.$store.state.points<o.value},on:{click:function(s){return t.buyCoupon(o.id)}}},[t._v("Kaufen ")])])])])],1)})),1),s("modal",{attrs:{id:"lastCoupon"}},[s("vue-qr-code",{attrs:{value:t.lastCoupon.code}})],1)],1)},a=[],n=s("f43e"),i=s("714b"),c=s("9a13"),r=s("ecee"),u=s("c074");r["c"].add(u["D"],u["w"],u["A"],u["y"]);var l={name:"RabattMenu",components:{Coupon:n["a"],Modal:i["a"],VueQrCode:c["a"]},data:function(){return{editRights:0,coupons:[],lastCoupon:{code:"no Coupon Provided"}}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;console.debug("Company:",this.$store.state.company.companyName),this.$http.post(this.$store.state.url+"/getRabatt",{hash:this.$store.state.user.token?this.$store.state.user.token:void 0,firmenname:this.$store.state.company.companyName}).then((function(o){console.debug("Coupons:",o),t.$store.commit("setCoupons",o.data.coupons),t.editRights=o.data.editRights}))},buyCoupon:function(t){var o=this;this.$http.post(this.$store.state.url+"/buyCoupon",{hash:this.$store.state.user.token?this.$store.state.user.token:void 0,firmenname:this.$store.state.company.companyName,rabattID:t}).then((function(t){console.debug(t),o.$store.commit("setPoints",t.data.points),o.lastCoupon=t.data.coupon,o.$("#lastCoupon").modal()}))}}},p=l,d=(s("14f5"),s("2877")),m=Object(d["a"])(p,e,a,!1,null,"13909d6d",null);o["default"]=m.exports},"582a":function(t,o,s){}}]);
//# sourceMappingURL=chunk-453eafc0.6ffe4f4f.js.map