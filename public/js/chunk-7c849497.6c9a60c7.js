(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c849497"],{"1ecd":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",[a("div",{attrs:{id:"preview"}},[this.$store.state.company.logo?a("img",{attrs:{src:e.url}}):e._e()]),a("fp-input",{attrs:{label:"Logo",description:"Laden Sie hier ihr eigenes Logo hoch. Alternativ wird einfach ihr Firmenname Angezeigt."}},[a("font-awesome-icon",{attrs:{slot:"prepend",icon:"image"},slot:"prepend"}),a("input",{attrs:{type:"file",accept:"image/*"},on:{change:e.onFileChange}})],1),a("fp-input",{attrs:{label:"Firmenname",description:"Ihr Firmenname ist dafür da, ihr Unternehmen zu finden, wir empfehlen nicht diesen zu ändern, außer es ist absolut nötig."}},[a("font-awesome-icon",{attrs:{slot:"prepend",icon:"sign"},slot:"prepend"}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.companyName,expression:"companyName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Firmenname",disabled:""},domProps:{value:e.companyName},on:{input:function(t){t.target.composing||(e.companyName=t.target.value)}}})],1),a("fp-input",{attrs:{label:"Kontakt Email",description:"Ihre Kontakt-Email ist für alle Kunden sichtbar"}},[a("font-awesome-icon",{attrs:{slot:"prepend",icon:"envelope"},slot:"prepend"}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Kontakt Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})],1),a("fp-input",{attrs:{label:"Tauschrate",description:"Dieser Wert bestimmt, wie viel € einen Punkt wert ist."}},[a("font-awesome-icon",{attrs:{slot:"prepend",icon:"receipt"},slot:"prepend"}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.exchangeRate,expression:"exchangeRate"}],staticClass:"form-control text-right",attrs:{type:"number",min:"1"},domProps:{value:e.exchangeRate},on:{input:function(t){t.target.composing||(e.exchangeRate=t.target.value)}}}),a("font-awesome-icon",{attrs:{slot:"append",icon:"euro-sign"},slot:"append"})],1),a("div",{staticClass:"d-flex justify-content-center"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.saveChanges}},[e._v("Speichern")]),a("button",{staticClass:"btn btn-danger font-weight-bold",attrs:{type:"button"},on:{click:e.modalDelete}},[e._v("Firma Löschen")])]),a("transition",{attrs:{name:"fade"},on:{enter:e.enterSuccess}},[e.success?a("div",{staticClass:"alert alert-success"},[e._v(" Daten wurden gespeichert ")]):e._e()]),a("modal",{attrs:{id:"deleteConfirmation"}},[a("form",{staticClass:"d-flex flex-column"},[a("fp-input",{attrs:{label:"Geben sie ihr Passwort zur Bestätiugung ein"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userPassword,expression:"userPassword"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.userPassword},on:{input:function(t){t.target.composing||(e.userPassword=t.target.value)}}})]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:!e.userPassword},on:{click:e.deleteCompany}},[e._v("Löschen")])],1)])],1)},n=[],o=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("2708")),i=a("ecee"),r=a("c074"),l=a("714b");i["c"].add(r["p"],r["E"],r["m"],r["n"],r["A"]);var c={name:"Profile",components:{Modal:l["a"],FpInput:o["a"]},data:function(){return{success:!1,userPassword:"",logo:"",url:"",companyName:"",email:"",exchangeRate:1}},created:function(){var e=this;this.$http.post(this.$store.state.url+"/getCompany",{hash:this.$store.state.user.token,companyName:this.$store.state.company.companyName}).then((function(t){console.debug("Response:",t.data),e.logo=t.data.company.logo,e.companyName=t.data.company.companyName,e.email=t.data.company.contactMail,e.exchangeRate=t.data.company.conversionRate}))},methods:{modalDelete:function(){this.$("#deleteConfirmation").modal()},onFileChange:function(e){this.logo=e.target.files[0],this.url=URL.createObjectURL(this.logo),this.$store.commit("setLogo",this.url)},saveChanges:function(){var e=this;this.$http.post(this.$store.state.url+"/updateCompany",{hash:this.$store.state.user.token,companyName:this.companyName,contactMail:this.email,conversionRate:this.exchangeRate,logo:this.url}).then((function(t){console.debug(t),e.success=!0})).catch((function(e){console.error(e)}))},deleteCompany:function(){this.$http.post(this.$store.state.url+"/deleteCompany",{hash:this.$store.state.user.token,companyName:this.$store.state.company.companyName,password:this.userPassword})},enterSuccess:function(){var e=this;setTimeout((function(){e.success=!1}),3e3)}}},m=c,d=(a("f72e"),a("2877")),p=Object(d["a"])(m,s,n,!1,null,"0d2fe1b6",null);t["default"]=p.exports},"714b":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"modalCreateNewCoupon","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[e._v(e._s(e.title))]),e._m(0)]),a("div",{staticClass:"modal-body"},[e._t("default")],2)])])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])}],o={name:"Modal",props:["title"]},i=o,r=a("2877"),l=Object(r["a"])(i,s,n,!1,null,"74403a3e",null);t["a"]=l.exports},a267:function(e,t,a){},f72e:function(e,t,a){"use strict";var s=a("a267"),n=a.n(s);n.a}}]);
//# sourceMappingURL=chunk-7c849497.6c9a60c7.js.map