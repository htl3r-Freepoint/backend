(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f1ad6de"],{"4a2f":function(e,t,s){},"7f6f":function(e,t,s){"use strict";var r=s("4a2f"),n=s.n(r);n.a},"95a2":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"col"},[s("qrcode-stream",{staticClass:"my-5",attrs:{id:"QRScanner"},on:{decode:e.onDecode,init:e.checkCamera}}),s("transition",{attrs:{name:"fade"},on:{enter:e.enterError}},[e.error?s("div",{staticClass:"alert alert-danger"},[e._v(" "+e._s(this.error)+" ")]):e._e()]),s("transition",{attrs:{name:"fade"},on:{enter:e.enterSuccess}},[e.success?s("div",{staticClass:"alert alert-success"},[e._v(" Punkte erfolgreich zugewiesen ")]):e._e()])],1),e.registers.length>0?s("table",{staticClass:"col"},[e._m(0),e._l(e.registers,(function(t,r){return s("tr",{key:r},[s("td",[e._v(e._s(t.Bezeichnung))]),s("td",[s("button",{staticClass:"btn btn-danger",on:{click:function(s){return e.deleteRegister(t)}}},[s("font-awesome-icon",{attrs:{icon:"trash"}})],1)])])}))],2):e._e()])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("th",[e._v("Kassa ID")]),s("th")])}],a=(s("4d63"),s("ac1f"),s("25f0"),s("96cf"),s("1da1")),o=s("6d12"),c=s("ecee"),i=s("c074");c["c"].add(i["H"]);var d={name:"Register",components:{QrcodeStream:o["QrcodeStream"]},data:function(){return{registers:[],regex:new RegExp("_?R\\d-AT\\d_(.+)_(.+)_(\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2})_(\\d+,\\d{2})_(\\d+,\\d{2})_(\\d+,\\d{2})_(\\d+,\\d{2})_(\\d+,\\d{2})_(.+)={1,2}_(.+)=="),error:void 0,success:void 0}},created:function(){this.getRegisters()},methods:{onDecode:function(e){navigator.vibrate(100),this.postData(e)},postData:function(e){var t=this;this.regex.exec(e)?(console.debug(e),this.$http.post(this.$store.state.url+"/addRegister",{hash:this.$store.state.user.token,companyName:this.$store.state.company.companyName,qrcode:e}).then((function(e){console.debug(e),t.getRegisters()})).catch((function(e){console.error(e),t.error=e}))):console.error("Qrcode is invalid")},deleteRegister:function(e){var t=this;this.$http.post(this.$store.state.url+"/deleteRegister",{hash:this.$store.state.user.token,companyName:this.$store.state.company.companyName,id:e.id}).then((function(e){console.debug(e),t.getRegisters()}))},getRegisters:function(){var e=this;this.$http.post(this.$store.state.url+"/getRegisters",{hash:this.$store.state.user.token,companyName:this.$store.state.company.companyName}).then((function(t){console.debug(t),e.registers=t.data}))},checkCamera:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e;case 3:s.next=9;break;case 5:s.prev=5,s.t0=s["catch"](0),t.error=s.t0,console.error(s.t0);case 9:case"end":return s.stop()}}),s,null,[[0,5]])})))()},enterError:function(){var e=this;setTimeout((function(){e.error=void 0}),3e3)},enterSuccess:function(){var e=this;setTimeout((function(){e.success=!1}),3e3)}}},u=d,h=(s("7f6f"),s("2877")),l=Object(h["a"])(u,r,n,!1,null,"4d37c2a8",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-6f1ad6de.71383bb9.js.map