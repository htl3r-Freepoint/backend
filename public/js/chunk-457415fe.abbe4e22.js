(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-457415fe"],{"28db":function(e,t,a){"use strict";var r=a("7290"),o=a.n(r);o.a},"369d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("qrcode-stream",{staticClass:"my-5",attrs:{id:"QRScanner"},on:{decode:e.onDecode,init:e.checkCamera}}),a("transition",{attrs:{name:"fade"},on:{enter:e.enterError}},[e.error?a("div",{staticClass:"alert alert-danger"},[e._v(" "+e._s(this.error)+" ")]):e._e()]),a("modal",{attrs:{id:"onSuccess"}},[a("h1",[e._v("Rabattcode eingelöst")])])],1)},o=[],n=(a("4d63"),a("ac1f"),a("25f0"),a("96cf"),a("1da1")),s=a("6d12"),c=a("714b"),i={name:"CashierQrCode",components:{QrcodeStream:s["QrcodeStream"],Modal:c["a"]},data:function(){return{regex:new RegExp(""),error:void 0}},methods:{onDecode:function(e){navigator.vibrate(100),this.postData(e)},postData:function(e){var t=this;this.regex.exec(e)?(console.debug(e),this.$http.post(this.$store.state.url+"/useCoupon",{hash:this.$store.state.user.token,code:e}).then((function(e){console.debug(e),t.coupon=e.data,t.success=!0,t.$("#onSuccess").modal()})).catch((function(e){console.error(e),t.error=e}))):console.error("Qrcode is invalid")},checkCamera:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e;case 3:a.next=9;break;case 5:a.prev=5,a.t0=a["catch"](0),t.error=a.t0,console.error(a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,5]])})))()},enterError:function(){var e=this;setTimeout((function(){e.error=!1}),3e3)}}},d=i,l=(a("28db"),a("2877")),u=Object(l["a"])(d,r,o,!1,null,"10e1600c",null);t["default"]=u.exports},"714b":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"modalCreateNewCoupon","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[e._v(e._s(e.title))]),e._m(0)]),a("div",{staticClass:"modal-body"},[e._t("default")],2)])])])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])}],n={name:"Modal",props:["title"]},s=n,c=a("2877"),i=Object(c["a"])(s,r,o,!1,null,"74403a3e",null);t["a"]=i.exports},7290:function(e,t,a){}}]);
//# sourceMappingURL=chunk-457415fe.abbe4e22.js.map