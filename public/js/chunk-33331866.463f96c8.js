(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33331866"],{"1ecd":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",[a("div",{attrs:{id:"preview"}},[this.$store.state.company.logo?a("img",{attrs:{src:t.url}}):t._e()]),a("fp-input",{attrs:{label:"Logo",description:"Laden Sie hier ihr eigenes Logo hoch. Alternativ wird einfach ihr Firmenname Angezeigt."}},[a("font-awesome-icon",{attrs:{slot:"prepend",icon:"image"},slot:"prepend"}),a("input",{attrs:{type:"file",accept:"image/*"},on:{change:t.onFileChange}})],1),a("fp-input",{attrs:{label:"Firmenname",description:"Ihr Firmenname ist dafür da, ihr Unternehmen zu finden, wir empfehlen nicht diesen zu ändern, außer es ist absolut nötig."}},[a("font-awesome-icon",{attrs:{slot:"prepend",icon:"sign"},slot:"prepend"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.companyName,expression:"companyName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Firmenname"},domProps:{value:t.companyName},on:{input:function(e){e.target.composing||(t.companyName=e.target.value)}}})],1),a("fp-input",{attrs:{label:"Kontakt Email",description:"Ihre Kontakt-Email ist für alle Kunden sichtbar"}},[a("font-awesome-icon",{attrs:{slot:"prepend",icon:"envelope"},slot:"prepend"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Kontakt Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})],1),a("fp-input",{attrs:{label:"Tauschrate",description:"Dieser Wert bestimmt, wie viel € einen Punkt wert ist."}},[a("font-awesome-icon",{attrs:{slot:"prepend",icon:"receipt"},slot:"prepend"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.exchangeRate,expression:"exchangeRate"}],staticClass:"form-control text-right",attrs:{type:"number",min:"1"},domProps:{value:t.exchangeRate},on:{input:function(e){e.target.composing||(t.exchangeRate=e.target.value)}}}),a("font-awesome-icon",{attrs:{slot:"append",icon:"euro-sign"},slot:"append"})],1),a("div",{staticClass:"d-flex justify-content-center"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveChanges}},[t._v("Speichern")]),a("button",{staticClass:"btn btn-danger font-weight-bold",attrs:{type:"button"},on:{click:t.modalDelete}},[t._v("Firma Löschen")])]),a("modal",{attrs:{id:"deleteConfirmation"}},[a("form",{staticClass:"d-flex flex-column"},[a("fp-input",{attrs:{label:"Geben sie ihr Passwort zur Bestätiugung ein"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userPassword,expression:"userPassword"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.userPassword},on:{input:function(e){e.target.composing||(t.userPassword=e.target.value)}}})]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:!t.userPassword},on:{click:t.deleteCompany}},[t._v("Löschen")])],1)])],1)},s=[],o=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("2708")),i=a("ecee"),r=a("c074"),l=a("714b");i["c"].add(r["p"],r["E"],r["m"],r["n"],r["A"]);var c={name:"Profile",components:{Modal:l["a"],FpInput:o["a"]},data:function(){return{userPassword:"",logo:"",url:"",companyName:"",email:"",exchangeRate:1}},created:function(){var t=this;this.$http.post(this.$store.state.url+"/getCompany",{hash:this.$store.state.user.token,companyName:this.$store.state.company.companyName}).then((function(e){console.debug("Response:",e.data),t.companyName=e.data.company.companyName,t.email=e.data.company.contactMail,t.exchangeRate=e.data.company.conversionRate}))},methods:{modalDelete:function(){this.$("#deleteConfirmation").modal()},onFileChange:function(t){this.logo=t.target.files[0],this.url=URL.createObjectURL(this.logo),this.$store.commit("setLogo",this.url)},saveChanges:function(){this.$http.post(this.$store.state.url+"/updateCompany",{hash:this.$store.state.user.token,companyName:this.companyName,contactMail:this.email,conversionRate:this.exchangeRate,logo:this.url}).then((function(t){console.debug(t)})).catch((function(t){console.error(t)}))},deleteCompany:function(){this.$http.post(this.$store.state.url+"/deleteCompany",{hash:this.$store.state.user.token,companyName:this.$store.state.company.companyName,password:this.userPassword})}}},m=c,d=(a("26ea"),a("2877")),p=Object(d["a"])(m,n,s,!1,null,"96085128",null);e["default"]=p.exports},"26ea":function(t,e,a){"use strict";var n=a("7f5c"),s=a.n(n);s.a},"714b":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"modalCreateNewCoupon","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[t._v(t._s(t.title))]),t._m(0)]),a("div",{staticClass:"modal-body"},[t._t("default")],2)])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],o={name:"Modal",props:["title"]},i=o,r=a("2877"),l=Object(r["a"])(i,n,s,!1,null,"74403a3e",null);e["a"]=l.exports},"7f5c":function(t,e,a){}}]);
//# sourceMappingURL=chunk-33331866.463f96c8.js.map