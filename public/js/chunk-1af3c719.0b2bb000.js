(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1af3c719"],{"0484":function(t,e,a){"use strict";var i=a("ef56"),s=a.n(i);s.a},"218b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h2",{staticClass:"text-uppercase font-weight-bold"},[t._v(t._s(t.$store.state.companyName))]),a("div",{staticClass:"col custom-control custom-switch align-self-end"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editRights,expression:"editRights"}],staticClass:"custom-control-input",attrs:{id:"edit-mode",type:"checkbox"},domProps:{checked:Array.isArray(t.editRights)?t._i(t.editRights,null)>-1:t.editRights},on:{change:function(e){var a=t.editRights,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=null,n=t._i(a,o);i.checked?n<0&&(t.editRights=a.concat([o])):n>-1&&(t.editRights=a.slice(0,n).concat(a.slice(n+1)))}else t.editRights=s}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"edit-mode"}},[t._v("Edit Mode")])]),a("router-link",{staticClass:"btn btn-primary",attrs:{to:"/company/settings/profile"}},[t._v("Settings")]),a("div",{staticClass:"row justify-content-center py-2",attrs:{id:"coupon-container"}},[t._l(t.coupons,(function(e,i){return a("coupon",{key:i,staticClass:"col-sm-6 col-md-4 col-xl-3",attrs:{coupon:e,"edit-rights":t.editRights}},[a("font-awesome-icon",{staticStyle:{position:"absolute",left:"9.5px",top:"10.5px"},attrs:{slot:"actionIcon",icon:"shopping-cart"},slot:"actionIcon"})],1)})),t.editRights?a("div",{staticClass:"add-coupon col-sm-6 col-md-4 col-xl-3"},[a("button",{staticClass:"btn-block",attrs:{"data-toggle":"modal","data-target":"#modalCreateNewCoupon"}},[a("font-awesome-icon",{attrs:{icon:"plus-circle"}})],1)]):t._e()],2),a("modal",{attrs:{id:"modalCreateNewCoupon",title:"Neuer Coupon"}},[a("form-new-coupon")],1)],1)},s=[],o=a("bc3a"),n=a.n(o),r=a("f43e"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{role:"form"}},[a("div",{staticClass:"row row-input"},[a("div",{staticClass:"form-group col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Titel",required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])]),a("div",{staticClass:"row row-input"},[a("div",{staticClass:"form-group col"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"form-control",attrs:{placeholder:"Beschreibung",required:""},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Benötigte Punkte",required:""},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})])]),a("div",{staticClass:"row row-input btn-toolbar"},[a("div",{staticClass:"col btn-group"},[a("label",{staticClass:"btn btn-primary font-weight-bold"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isPercent,expression:"isPercent"}],attrs:{type:"radio"},domProps:{value:!1,checked:t._q(t.isPercent,!1)},on:{change:function(e){t.isPercent=!1}}}),t._v(" Euro € ")]),a("label",{staticClass:"btn btn-primary font-weight-bold"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isPercent,expression:"isPercent"}],attrs:{type:"radio"},domProps:{value:!0,checked:t._q(t.isPercent,!0)},on:{change:function(e){t.isPercent=!0}}}),t._v(" Prozent % ")])])]),a("div",{staticClass:"row row-input"},[t.isPercent?a("div",{staticClass:"input-group col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.percentage,expression:"percentage"}],staticClass:"col form-control px-0",attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.percentage},on:{__r:function(e){t.percentage=e.target.value}}}),a("div",{staticClass:"input-group-append"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.percentage,expression:"percentage"}],staticClass:"input-group-text",attrs:{type:"number",min:"0",max:"100"},domProps:{value:t.percentage},on:{input:function(e){e.target.composing||(t.percentage=e.target.value)}}}),a("span",{staticClass:"input-group-text"},[t._v("%")])])]):a("div",{staticClass:"input-group col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"col form-control",attrs:{type:"number",placeholder:"Preis"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}}),t._m(0)])]),a("div",{staticClass:"container"},[a("div",{staticClass:"row control-buttons justify-content-between"},[a("button",{staticClass:"col-5 btn btn-danger",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.resetData}},[t._v("Abbrechen")]),a("button",{staticClass:"col-5 btn btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Speichern")])])])])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t._v("€")])])}],u={name:"FormNewCoupon",props:["store"],data:function(){return{url:"http://freepoint.at/api",isPercent:!0,title:"",text:"",price:0,percentage:0,value:void 0}},methods:{postNewCoupon:function(){n.a.post(this.url+"/coupon.js",{params:{store:this.store,coupon:{isPercent:this.isPercent,title:this.title,text:this.text,price:this.price,percentage:this.percentage,value:this.value}}})},resetData:function(){this.isPercent=!0,this.title="",this.text="",this.price=0,this.percentage=0,this.value=0}}},p=u,d=(a("bd21"),a("2877")),m=Object(d["a"])(p,c,l,!1,null,"831f23e8",null),v=m.exports,h=a("714b"),g=a("ecee"),f=a("c074");g["c"].add(f["q"],f["v"]);var b={name:"RabattMenu",components:{Modal:h["a"],FormNewCoupon:v,Coupon:r["a"]},data:function(){return{user:"1",store:"1",editRights:!1,coupons:[{id:0,title:"Hamburger",text:"Genieße den saftigen Hamburger mit Gurken und Salat, um -20%",isPercent:!0,price:0,percentage:20,value:15},{id:1,title:"Cheeseburger",text:"Genieße den saftigen Cheeseburger mit Gurken, Salat und geschmolzenem Ementaler, um -1€",isPercent:!1,price:1,percentage:0,value:25},{id:0,title:"Hamburger",text:"Genieße den saftigen Hamburger mit Gurken und Salat, um -20%",isPercent:!0,price:0,percentage:20,value:15},{id:1,title:"Cheeseburger",text:"Genieße den saftigen Cheeseburger mit Gurken, Salat und geschmolzenem Ementaler, um -1€",isPercent:!1,price:1,percentage:0,value:25},{id:0,title:"Hamburger",text:"Genieße den saftigen Hamburger mit Gurken und Salat, um -20%",isPercent:!0,price:0,percentage:20,value:15},{id:1,title:"Cheeseburger",text:"Genieße den saftigen Cheeseburger mit Gurken, Salat und geschmolzenem Ementaler, um -1€",isPercent:!1,price:1,percentage:0,value:25},{id:0,title:"Hamburger",text:"Genieße den saftigen Hamburger mit Gurken und Salat, um -20%",isPercent:!0,price:0,percentage:20,value:15},{id:1,title:"Cheeseburger",text:"Genieße den saftigen Cheeseburger mit Gurken, Salat und geschmolzenem Ementaler, um -1€",isPercent:!1,price:1,percentage:0,value:25}]}},methods:{getData:function(){var t=this;n.a.get(this.$store.state.url+"/Rabatte",{params:{user:this.user,store:this.$route.params.company}}).then((function(e){return t.coupons=e}))},saveCoupon:function(){}}},C=b,x=(a("ca7d"),Object(d["a"])(C,i,s,!1,null,"5e6add98",null));e["default"]=x.exports},"314d":function(t,e,a){},"61c8":function(t,e,a){},"714b":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"modalCreateNewCoupon","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[t._v(t._s(t.title))]),t._m(0)]),a("div",{staticClass:"modal-body"},[t._t("default")],2)])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],o={name:"Modal",props:["title"]},n=o,r=a("2877"),c=Object(r["a"])(n,i,s,!1,null,"74403a3e",null);e["a"]=c.exports},8399:function(t,e,a){},bd21:function(t,e,a){"use strict";var i=a("fde6"),s=a.n(i);s.a},ca7d:function(t,e,a){"use strict";var i=a("8399"),s=a.n(i);s.a},ef56:function(t,e,a){},f17f:function(t,e,a){"use strict";var i=a("61c8"),s=a.n(i);s.a},f43e:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"coupon"},[a("button",{staticClass:"card",on:{click:t.showActionModal}},[a("div",{staticClass:"card-body text-left d-flex flex-column justify-content-between pb-1"},[a("div",[a("h4",{staticClass:"font-weight-bold"},[t._v(t._s(this.coupon.title))]),a("p",[t._v(t._s(this.coupon.text))])]),a("footer",{staticClass:"d-flex flex-row justify-content-between"},[a("div",[a("h4",{staticClass:"font-weight-bold text-nowrap"},[t._v(" "+t._s(t.coupon.isPercent?!(this.coupon.percentage>0)||this.coupon.percentage>=100?"Gratis":"-"+this.coupon.percentage+"%":!(this.coupon.price>0)||this.coupon.price>=100?"Gratis":"-"+this.coupon.price+"€")+" ")])]),a("h4",{staticClass:"primary-text font-weight-bold text-nowrap"},[t._v(t._s(this.coupon.value+" FP"))])])]),t.editRights||t.$slots.actionIcon?a("div",{staticClass:"control-buttons"},[!t.editRights&&t.$slots.actionIcon?a("button",{staticClass:"btn btn-primary btn-action",on:{click:t.showActionModal}},[t._t("actionIcon")],2):t._e(),t.editRights?a("button",{staticClass:"btn btn-primary mb-1",on:{click:t.showEditModal}},[a("font-awesome-icon",{attrs:{icon:"pen"}})],1):t._e(),t.editRights?a("button",{staticClass:"btn btn-danger mt-1"},[a("font-awesome-icon",{attrs:{icon:"trash"}})],1):t._e()]):t._e()]),a("modal",{attrs:{id:"modalEditCoupon"+t.coupon.id}},[a("form-edit-coupon",{attrs:{coupon:t.coupon}})],1),a("modal",{attrs:{id:"modalActionCoupon"+t.coupon.id}},[t._t("modal",[a("coupon-detail",{attrs:{coupon:t.coupon}})])],2)],1)},s=[],o=a("714b"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{role:"form"}},[a("div",{staticClass:"row row-input"},[a("div",{staticClass:"form-group col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Titel"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])]),a("div",{staticClass:"row row-input"},[a("div",{staticClass:"form-group col"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"form-control",attrs:{placeholder:"Beschreibung"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Benötigte Punkte"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})])]),a("div",{staticClass:"row row-input btn-toolbar"},[a("div",{staticClass:"col btn-group"},[a("label",{staticClass:"btn btn-primary font-weight-bold"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isPercent,expression:"isPercent"}],attrs:{type:"radio"},domProps:{value:!1,checked:t._q(t.isPercent,!1)},on:{change:function(e){t.isPercent=!1}}}),t._v(" Euro € ")]),a("label",{staticClass:"btn btn-primary font-weight-bold"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isPercent,expression:"isPercent"}],attrs:{type:"radio"},domProps:{value:!0,checked:t._q(t.isPercent,!0)},on:{change:function(e){t.isPercent=!0}}}),t._v(" Prozent % ")])])]),a("div",{staticClass:"row row-input"},[t.isPercent?a("div",{staticClass:"input-group col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.percentage,expression:"percentage"}],staticClass:"col form-control px-0",attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.percentage},on:{__r:function(e){t.percentage=e.target.value}}}),a("div",{staticClass:"input-group-append"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.percentage,expression:"percentage"}],staticClass:"input-group-text",attrs:{type:"number",min:"0",max:"100"},domProps:{value:t.percentage},on:{input:function(e){e.target.composing||(t.percentage=e.target.value)}}}),a("span",{staticClass:"input-group-text"},[t._v("%")])])]):a("div",{staticClass:"input-group col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"col form-control",attrs:{type:"number",placeholder:"Preis"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}}),t._m(0)])]),a("div",{staticClass:"container"},[a("div",{staticClass:"row control-buttons justify-content-between"},[a("button",{staticClass:"col-5 btn btn-danger",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.resetData}},[t._v("Abbrechen")]),a("button",{staticClass:"col-5 btn btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Speichern")])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t._v("€")])])}],c=a("bc3a"),l=a.n(c),u={name:"FormEditCoupon",components:{},props:["coupon"],data:function(){return{isPercent:!0,title:"",text:"",price:0,percentage:0,value:0}},created:function(){this.coupon&&this.resetData()},methods:{postNewCoupon:function(){l.a.post(this.$store.state.url+"/coupon",{params:{id:this.coupon.id,coupon:{isPercent:this.isPercent,title:this.title,text:this.text,price:this.price,percentage:this.percentage,value:this.value}}})},resetData:function(){this.isPercent=this.coupon.isPercent,this.title=this.coupon.title,this.text=this.coupon.text,this.price=this.coupon.price,this.percentage=this.coupon.percentage,this.value=this.coupon.value}}},p=u,d=(a("0484"),a("2877")),m=Object(d["a"])(p,n,r,!1,null,"9923f332",null),v=m.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h2",[t._v(t._s(t.coupon.title))]),a("h3",{staticClass:"font-weight-bold"},[t._v(" "+t._s(t.isPercent?!(this.coupon.percentage>0)||this.coupon.percentage>=100?"Gratis":"-"+this.coupon.percentage+"%":!(this.coupon.price>0)||this.coupon.price>=100?"Gratis":"-"+this.coupon.price+"€")+" ")]),a("i",{staticClass:"fas fa-qrcode fa-10x rounded-circle",attrs:{id:"qr-code"}}),t.show?t._e():a("h6",{on:{click:function(e){t.show=!0}}},[t._v("mehr anzeigen")]),t.show?a("h6",[t._v("_R1-AT2_haude-registrierkasse-67_9464_2017-01-01......")]):t._e()])},g=[],f={name:"CouponDetail",props:["coupon"],data:function(){return{show:!1,isPercent:!0,title:"",text:"",price:0,percentage:0,value:0}},created:function(){this.coupon&&this.resetData()},methods:{resetData:function(){this.isPercent=this.coupon.isPercent,this.title=this.coupon.title,this.text=this.coupon.text,this.price=this.coupon.price,this.percentage=this.coupon.percentage,this.value=this.coupon.value}}},b=f,C=(a("f17f"),Object(d["a"])(b,h,g,!1,null,"20f23bee",null)),x=C.exports,w=a("ecee"),_=a("c074");w["c"].add(_["p"],_["z"]);var P={name:"Coupon",components:{CouponDetail:x,FormEditCoupon:v,Modal:o["a"]},props:["coupon","editRights"],methods:{showActionModal:function(){this.$store.state.user.token?this.$("#modalActionCoupon"+this.coupon.id).modal():this.$router.push("/login")},showEditModal:function(){this.$("#modalEditCoupon"+this.coupon.id).modal()}}},y=P,k=(a("f7e3"),Object(d["a"])(y,i,s,!1,null,"c685e1e6",null));e["a"]=k.exports},f7e3:function(t,e,a){"use strict";var i=a("314d"),s=a.n(i);s.a},fde6:function(t,e,a){}}]);
//# sourceMappingURL=chunk-1af3c719.0b2bb000.js.map